---
order: 1
label: Flexbox
---

## Содержание

1. [Основы флексбокс](#основы-флексбокс)
2. [Главная и поперечная оси](#главная-и-поперечная-оси)
3. [Распределение флекс-элементов](#распределение-флекс-элементов)
4. [Перенос флекс-элементов](#перенос-флекс-элементов)
5. [Выравнивание строк флекс-контейнера](#выравнивание-строк-флекс-контейнера)
6. [Порядковый номер флекс-элемента](#порядковый-номер-флекс-элемента)
7. [Базовый размер флекс-элемента](#базовый-размер-флекс-элемента)
8. [Коэффициент растягивания элементов](#коэффициент-растягивания-элементов)
9. [Коэффициент сжатия элементов](#коэффициент-сжатия-элементов)

## Основы флексбокс

**Флексбокс** — это CSS-механизм, который позволяет контролировать размер, порядок и выравнивание элементов по нескольким осям, распределение свободного места между элементами и многое другое.

Чтобы включить флексбокс, нужно задать элементу свойство `display: flex`. После этого:

1. Элемент с `display: flex` превращается во флекс-контейнер.
2. Непосредственные потомки этого элемента превращаются во флекс-элементы и начинают распределяться по новым правилам.

Флекс-элементы, в отличие от блочных элементов, не растягиваются на всю ширину контейнера по умолчанию и на них не действует свойство `float`. 

Взаимодействие со свойством `margin`:

- Внешние отступы не схлопываются, ни по горизонтали, ни по вертикали.
- Внешние отступы не выпадают, не из флекс-контейнера, не из флекс-элементов.
- `margin: auto` влияет на положение флекс-элементов на обеих осях, а также «ломает» механизмы выравнивания, ведь выравнивание происходит, когда есть свободное место. Но если всё свободное место «перетекло» в автоматический отступ, то и выравнивать нечего. Если у флекс-элемента отступ автоматический к какой-либо стороне контейнера, то такой элемент прижмётся к той стороне, не зависимо от свойств `justify-content`, `align-items` или `align-self`. А если задать автоматические отступы с противоположных сторон, то элемент разместится по центру флекс-контейнера, так как свободное место «впитается» отступами поровну.

[К содержанию](#содержание)

## Главная и поперечная оси

**Оси** — одно из основных понятий во флексбоксах.

В обычном потоке документа блоки и текст располагаются слева направо и сверху вниз. В привычной блочной модели направления «лево», «право», «верх» и «низ» неизменны. Но внутри флекс-контейнера эти понятия могут изменяться, потому что там можно изменять обычное направление потока.

- Главной осью flex-контейнера является направление, в соответствии с которым располагаются все его дочерние элементы. Поток флекс-элементов «течёт» вдоль главной оси от её начала к её концу. Флекс-элементы всегда располагаются вдоль главной оси, независимо от её направления.
- Поперечной осью называется направление, перпендикулярное главной оси. Вдоль этой оси работают «вертикальные» выравнивания.

По умолчанию главная ось направлена слева направо, но её можно разворачивать во всех направлениях с помощью свойства `flex-direction`, которое задаётся для флекс-контейнера. Значения свойства:

1. `row` — главная ось направлена слева направо. Значение по умолчанию.
2. `column` — главная ось направлена сверху вниз.
3. `row-reverse` — главная ось направлена справа налево.
4. `column-reverse` — главная ось направлена снизу вверх.

Поперечная ось всегда перпендикулярна главной оси и поворачивается вместе с ней:

- Если главная ось направлена горизонтально, то поперечная ось смотрит вниз.
- Если главная ось направлена вертикально, то поперечная ось смотрит направо.

Таким образом, поперечная ось никогда не смотрит вверх или влево, и свойства для поворота поперечной оси нет.

[К содержанию](#содержание)

## Распределение флекс-элементов

### Выравнивание по главной оси

CSS-свойство `justify-content` определяет то, как будут выровнены элементы вдоль главной оси. Доступные значения `justify-content`:

1. `flex-start` — элементы располагаются у начала главной оси. Значение по умолчанию.
2. `flex-end` — элементы располагаются в конце главной оси.
3. `center` — элементы располагаются по центру главной оси.
4. `space-between` — элементы располагаются так, что расстояния между соседними одинаковые, а между элементами и краями флекс-контейнера отступов нет.
5. `space-around` — элементы располагаются так, что расстояния между соседними одинаковые, а между элементами и краями флекс-контейнера есть отступ, равный половине расстояния между соседними элементами.

Распределение элементов по главной оси задаётся для всего флекс-контейнера и на все флекс-элементы действует одинаково, задать какому-то элементу отличное от других распределение по главной оси нельзя.

### Выравнивание по поперечной оси

CSS-свойство `align-items` определяет то, как будут выровнены элементы вдоль поперечной оси. Доступные значения `align-items`:

`stretch` — элементы растягиваются на всю «высоту» флекс-контейнера. Значение по умолчанию.
`flex-start` — элементы располагаются у начала поперечной оси.
`flex-end` — элементы располагаются в конце поперечной оси.
`center` — элементы располагаются по центру поперечной оси.
`baseline` — элементы выравниваются по базовой линии текста внутри них. Эта воображаемая линия проходит по нижней части букв.

Поперечное выравнивание можно задать каждому элементу отдельно. Для этого используется свойство `align-self`, которое задаётся для самих флекс-элементов, а не для флекс-контейнера. У свойства `align-self` те же самые значения, что и у `align-items`.

[К содержанию](#содержание)

## Перенос флекс-элементов

Если флекс-элементов в контейнере станет больше, чем может уместиться в один ряд, то:

- Они будут сжиматься до минимально возможной ширины.
- Даже если им задать ширину, механизм флексбокса может её уменьшить.
- Если они перестанут помещаться в контейнер и после уменьшения, то выйдут за его пределы, но продолжат располагаться в один ряд.

Чтобы этого не происходило, нужно воспользоваться свойством флекс-контейнера `flex-wrap`. Его значения:

1. `nowrap` — перенос флекс-элементов на новую строку запрещён. Значение по умолчанию.
2. `wrap` — разрешает перенос флекс-элементов на новую строку. Ряды элементов располагаются вдоль поперечной оси, первый ряд — в начале поперечной оси, последний — в конце.
3. `wrap-reverse` — также разрешает перенос флекс-элементов на новую строку. Ряды элементов располагаются в обратном порядке: первый — в конце поперечной оси, последний — в начале.

[К содержанию](#содержание)

## Выравнивание строк флекс-контейнера

Свойство `align-content` управляет выравниванием рядов флекс-элементов вдоль поперечной оси. У него и свойства `justify-content` очень похожие значения:

1. `stretch` — растягивает ряды флекс-элементов, при этом оставшееся свободное место между ними делится поровну. Значение по умолчанию. Отображение строк при этом зависит от значения `align-items`:
   - Если у `align-items` задано значение `stretch`, то элементы в строках растягиваются на всю высоту своей строки.
   - Если значение отлично от `stretch`, то элементы в строках ужимаются под своё содержимое и выравниваются в строках в зависимости от значения `align-items`.
2. `flex-start` — располагает ряды флекс-элементов в начале поперечной оси.
3. `flex-end` — располагает ряды флекс-элементов в конце поперечной оси.
4. `center` — располагает ряды флекс-элементов в середине поперечной оси так, что отступов между соседними рядами нет, а расстояния между первым рядом и краем флекс-контейнера равно расстоянию между последним рядом и другим краем.
5. `space-between` — равномерно распределяет ряды флекс-элементов вдоль поперечной оси, расстояния между соседними рядами одинаковые, отступов у краёв нет.
6. `space-around` — равномерно распределяет ряды флекс-элементов вдоль поперечной оси, расстояния между соседними рядами одинаковые, отступы у краёв равны половине расстояния между соседними рядами.

Свойство `align-content` «перекрывает» заданное значение `align-items`, которое управляет выравниванием флекс-элементов вдоль поперечной оси. Это происходит и в случае, когда есть только один ряд флекс-элементов, и когда рядов несколько.

[К содержанию](#содержание)

## Порядковый номер флекс-элемента

Порядок следования флекс-элементов в потоке можно изменять с помощью свойства `order`, порядкового номера флекс-элемента, не меняя при этом HTML-код.

По умолчанию порядковый номер флекс-элементов равен 0, а сортировка элементов производится по возрастанию номера. Порядковый номер задаётся целым числом, положительным или отрицательным.

[К содержанию](#содержание)

## Базовый размер флекс-элемента

Ширина и высота не умеют реагировать на поворот главной оси. Поэтому ввели понятия главный размер или main size и поперечный размер или cross size. Если главная ось направлена горизонтально, то главный размер — это ширина, свойство `width`, а поперечный размер — это высота, свойство `height`. Если главная ось направлена вертикально, то всё наоборот.

Свойство `flex-basis` задаёт базовый размер флекс-элемента или размер вдоль главной оси. Базовый размер — это исходный размер флекс-элементов до применения `flex-grow`. Если `flex-basis` не задан или его значение равно `auto`, то базовый размер берётся из `width` или `height`.
Свойство `flex-basis` «сильнее» свойств `width` и `height`, и если у флекс-элемента заданы все три свойства, то `flex-basis` переопределит либо ширину, либо высоту в зависимости от направления главной оси.

[К содержанию](#содержание)

## Коэффициент растягивания элементов

Если внутри флекс-контейнера по главной оси остаётся свободное место, то мы можем попросить флекс-элемент, чтобы он увеличился и занял это место. Это делается с помощью свойства `flex-grow`, которое можно назвать «коэффициентом флекс-жадности» флекс-элемента. Свойство `flex-grow` принимает неотрицательные числовые значения, его значение по умолчанию — 0.

Если значение `flex-grow` равно нулю, то флекс-элемент «не претендует» на оставшееся свободное место во флекс-контейнере и не будет увеличиваться, чтобы занять это место. Если значение `flex-grow` больше нуля, то флекс-элемент будет увеличиваться, «захватывая» оставшееся свободное место.

Если сразу у нескольких флекс-элементов значение `flex-grow` больше нуля, то они будут делить свободное место между собой. Свободное место будет добавляться флекс-элементам пропорционально значениям их «коэффициента жадности».

[К содержанию](#содержание)

## Коэффициент сжатия элементов

Если сумма базовых размеров флекс-элементов больше, чем размер флекс-контейнера, то возникает отрицательное пространство. Механизм перераспределения работает не только для свободного места, но и для отрицательного пространства. Флекс-элементы умеют распределять отрицательное пространство между собой и сжиматься.

За уменьшение флекс-элементов отвечает свойство `flex-shrink`, которое можно назвать «коэффициентом сжатия». Свойство `flex-shrink` принимает неотрицательные числовые значения, его значение по умолчанию — 1. Если значение `flex-shrink` больше нуля, то флекс-элемент будет уменьшаться, «впитывая» часть отрицательного пространства, если оно существует. Если значение `flex-shrink` равно нулю, то флекс-элемент уменьшаться не будет.

[К содержанию](#содержание)
